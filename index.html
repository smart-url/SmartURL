<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO & Meta Tags -->
    <title>SmartURL | Professional URL Shortener & API</title>
    <meta name="description" content="Shorten your long links instantly with SmartURL. Secure, fast, and 100% free with a custom developer API.">
    <meta name="keywords" content="smart url shortener, free url shortener, link management, secure link shortener, api url shortener">
    
    <!-- Stylesheets & Fonts -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; scroll-behavior: smooth; }
        .hero-gradient {
            background-color: #4f46e5;
            background-image: radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), 
                              radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), 
                              radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%);
        }
        .loader { border-top-color: #6366f1; animation: spinner 0.8s linear infinite; }
        @keyframes spinner { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .animate-fade { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-slate-50 text-slate-900">

    <!-- Loading/Redirecting Overlay -->
    <div id="redirectOverlay" class="hidden fixed inset-0 z-[100] bg-white flex flex-col items-center justify-center">
        <div class="loader ease-linear rounded-full border-4 border-t-4 border-gray-100 h-14 w-14 mb-4"></div>
        <h2 class="text-2xl font-bold text-slate-800 tracking-tight">Redirecting...</h2>
        <p class="text-slate-500">Fastening your connection via SmartURL</p>
    </div>

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-slate-200">
        <div class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <div class="bg-indigo-600 p-2 rounded-xl shadow-lg">
                    <i data-lucide="zap" class="text-white w-6 h-6"></i>
                </div>
                <span class="text-2xl font-extrabold tracking-tight">Smart<span class="text-indigo-600">URL</span></span>
            </div>
            <div class="hidden md:flex gap-8 font-semibold text-slate-600">
                <a href="#features" class="hover:text-indigo-600 transition">Features</a>
                <a href="#api" class="hover:text-indigo-600 transition">API Docs</a>
                <a href="#privacy" class="hover:text-indigo-600 transition">Privacy</a>
            </div>
            <a href="#shorten" class="bg-slate-900 text-white px-6 py-2.5 rounded-full text-sm font-bold hover:bg-indigo-600 transition shadow-lg">Start Free</a>
        </div>
    </nav>

    <!-- Hero Section -->
    <header id="shorten" class="hero-gradient py-28 px-6 text-white text-center">
        <div class="max-w-4xl mx-auto">
            <h1 class="text-5xl md:text-7xl font-extrabold mb-8 leading-tight animate-fade">Control Every Link <br>With Your Own API.</h1>
            <p class="text-lg md:text-xl opacity-80 mb-12 font-light max-w-2xl mx-auto">Stop using generic shorteners. Create professional links using your own private database and developer API.</p>
            
            <!-- URL Input Box -->
            <div class="bg-white p-2 rounded-3xl shadow-2xl flex flex-col md:flex-row gap-2 max-w-3xl mx-auto">
                <div class="flex-grow flex items-center px-4">
                    <i data-lucide="link" class="text-slate-400 w-5 h-5"></i>
                    <input type="url" id="longUrl" placeholder="Paste your long link here..." 
                           class="w-full p-4 bg-transparent text-slate-900 focus:outline-none text-lg">
                </div>
                <button onclick="shortenNow()" id="shortenBtn" class="bg-indigo-600 text-white px-10 py-4 rounded-2xl font-bold text-lg hover:bg-slate-900 transition-all flex items-center justify-center gap-2 shadow-lg">
                    Shorten Now
                </button>
            </div>

            <!-- Result Area -->
            <div id="resultCard" class="hidden mt-10 max-w-lg mx-auto bg-white/10 backdrop-blur-md border border-white/20 p-6 rounded-3xl animate-fade text-left">
                <p class="text-indigo-200 text-xs font-bold uppercase tracking-widest mb-3 text-center">Your Smart link is ready!</p>
                <div class="flex items-center gap-2 bg-white rounded-2xl p-2 shadow-inner">
                    <span id="finalLink" class="flex-grow text-indigo-900 font-bold px-4 truncate text-md"></span>
                    <button onclick="copyToClipboard()" class="bg-indigo-600 text-white px-6 py-3 rounded-xl hover:bg-slate-900 transition flex items-center gap-2 font-bold">
                        <i data-lucide="copy" class="w-4 h-4"></i> Copy
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Features Section -->
    <section id="features" class="py-24 px-6 max-w-7xl mx-auto">
        <div class="grid md:grid-cols-3 gap-12">
            <div class="p-10 bg-white border border-slate-100 rounded-[2.5rem] shadow-sm hover:shadow-2xl transition-all group">
                <div class="w-14 h-14 bg-indigo-100 rounded-2xl flex items-center justify-center mb-8 group-hover:scale-110 transition"><i data-lucide="shield-check" class="text-indigo-600"></i></div>
                <h3 class="text-2xl font-bold mb-4">100% Private</h3>
                <p class="text-slate-500 leading-relaxed">Unlike TinyURL, your data is stored in your private Google Sheet. No one tracks you.</p>
            </div>
            <div class="p-10 bg-white border border-slate-100 rounded-[2.5rem] shadow-sm hover:shadow-2xl transition-all group">
                <div class="w-14 h-14 bg-blue-100 rounded-2xl flex items-center justify-center mb-8 group-hover:scale-110 transition"><i data-lucide="zap" class="text-blue-600"></i></div>
                <h3 class="text-2xl font-bold mb-4">Fast Redirects</h3>
                <p class="text-slate-500 leading-relaxed">Our advanced redirection logic ensures your users reach the destination in milliseconds.</p>
            </div>
            <div class="p-10 bg-white border border-slate-100 rounded-[2.5rem] shadow-sm hover:shadow-2xl transition-all group">
                <div class="w-14 h-14 bg-purple-100 rounded-2xl flex items-center justify-center mb-8 group-hover:scale-110 transition"><i data-lucide="code" class="text-purple-600"></i></div>
                <h3 class="text-2xl font-bold mb-4">Developer API</h3>
                <p class="text-slate-500 leading-relaxed">Easily integrate our link shortening technology into your own apps and websites.</p>
            </div>
        </div>
    </section>

    <!-- API Documentation -->
    <section id="api" class="bg-slate-900 py-24 px-6 text-white overflow-hidden">
        <div class="max-w-4xl mx-auto relative">
            <h2 class="text-4xl font-extrabold mb-10">SmartURL Developer API</h2>
            <p class="text-slate-400 mb-8">Want to use our backend for your own app? Send a POST request to our endpoint.</p>
            <div class="bg-slate-800 p-8 rounded-3xl border border-slate-700 font-mono text-sm leading-relaxed overflow-x-auto shadow-2xl">
                <span class="text-indigo-400">// API Endpoint</span><br>
                <span class="text-green-400">POST</span> /smarturl/shorten<br><br>
                <span class="text-indigo-400">// Request Body</span><br>
                { "url": "https://your-link.com" }<br><br>
                <span class="text-indigo-400">// Response</span><br>
                { "shortUrl": "ab123" }
            </div>
        </div>
    </section>

    <!-- Privacy & Legal -->
    <section id="privacy" class="py-24 px-6 max-w-5xl mx-auto">
        <div class="grid md:grid-cols-2 gap-20">
            <div>
                <h3 class="text-2xl font-bold mb-6">Privacy First Policy</h3>
                <p class="text-slate-500 leading-relaxed">SmartURL does not store user browser data. Our ads are Google AdSense compliant. We only use essential cookies to provide you with the best experience.</p>
            </div>
            <div>
                <h3 class="text-2xl font-bold mb-6">Terms of Usage</h3>
                <p class="text-slate-500 leading-relaxed">Use of our service for spamming, phishing, or malware is strictly prohibited. We reserve the right to ban links that violate our safety policies.</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-white border-t border-slate-200 py-16 text-center">
        <div class="flex items-center justify-center gap-2 mb-8">
            <div class="bg-indigo-600 p-1.5 rounded-lg">
                <i data-lucide="zap" class="text-white w-5 h-5"></i>
            </div>
            <span class="text-2xl font-extrabold">SmartURL</span>
        </div>
        <p class="text-slate-400 text-sm">Â© 2026 SmartURL Link Management. All rights reserved.</p>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        lucide.createIcons();

        // Updated API URL
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwRRbnqadeW4gd-Olppa3pAKvHJ2s-XXoXSvtizF2rXYmRK205-c2Uw8cRzozeohwg07g/exec';

        // REDIRECTION SYSTEM
        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const shortCode = urlParams.get('id');

            if (shortCode) {
                // Show redirection overlay
                document.getElementById('redirectOverlay').classList.remove('hidden');
                // Instant redirect to Apps Script (which handles the real URL)
                window.location.replace(SCRIPT_URL + "?id=" + shortCode);
            }
        };

        // SHORTEN SYSTEM
        async function shortenNow() {
            const longUrl = document.getElementById('longUrl').value;
            const btn = document.getElementById('shortenBtn');
            const resultCard = document.getElementById('resultCard');
            const finalLink = document.getElementById('finalLink');

            if (!longUrl || !longUrl.startsWith('http')) {
                alert("Please enter a valid URL (starting with http:// or https://)");
                return;
            }

            // UI State Loading
            btn.disabled = true;
            btn.innerHTML = `<span class="loader rounded-full border-2 border-t-2 border-white h-5 w-5 mr-3"></span> Shortening...`;

            try {
                const response = await fetch(SCRIPT_URL, {
                    method: 'POST',
                    body: JSON.stringify({ url: longUrl })
                });
                
                const data = await response.json();
                
                // Build link using current domain
                const currentPath = window.location.origin + window.location.pathname;
                const finalGeneratedUrl = currentPath + "?id=" + data.shortUrl;
                
                finalLink.innerText = finalGeneratedUrl;
                resultCard.classList.remove('hidden');
            } catch (error) {
                alert("Connection Error! Please make sure your Google Script deployment is set to 'Anyone'.");
                console.error(error);
            } finally {
                btn.disabled = false;
                btn.innerHTML = `Shorten Now`;
                lucide.createIcons();
            }
        }

        // COPY SYSTEM
        function copyToClipboard() {
            const text = document.getElementById('finalLink').innerText;
            navigator.clipboard.writeText(text).then(() => {
                alert("Link copied to clipboard!");
            });
        }
    </script>
</body>
</html>
